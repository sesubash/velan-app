{"version":3,"sources":["app/configs/endpoints.js","app/components/googleMap.js","app/pages/VisitDetail.js"],"names":["config","endpoints","basePath","login","users","list","add","edit","visits","filter","target","get","dashboard","containerStyle","width","height","MapComponent","props","console","debug","center","googleMapsApiKey","mapContainerStyle","zoom","position","window","google","content","VisitDetail","date","useState","visit","setVisit","setCenter","search","useLocation","id","URLSearchParams","useEffect","axios","then","response","data","u","lat","Number","lng","className","to","pathname","process","Card","style","ListGroup","ListGroupItem","branch","customer_name","customer_mobile_number","person_type","customer_address","buying_person_name","buying_person_mobile_number","requirement","building_area","building_type","unit","initialRating","customer_response","isReadOnly","customer_maycome","first_name","last_name","mobile_number","created_on","Date","toLocaleString","Img","variant","src","file_path","isNaN","Body","Title"],"mappings":"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","file":"static/js/14.44e48d7e.chunk.js","sourcesContent":["export const config = {\n  endpoints: {\n    basePath: \"http://www.velanapp.in/velan/api.php?\",\n    login: \"validateAdminLogin\",\n    users: {\n      list: `getUsers`,\n      add: \"addUser\",\n      edit: \"editUser\",\n    },\n    visits: {\n      list: \"getVisits\",\n      filter: \"getVisitsByFilter\"\n    },\n    target: {\n      get: \"getDailyTarget\",\n      edit: \"editDailyTarget\",\n    },\n    dashboard: {\n      list: \"getDashboradData\",\n    },\n  },\n};","import React from 'react'\nimport { GoogleMap, LoadScript, Marker, InfoWindow} from '@react-google-maps/api';\n\nconst containerStyle = {\n  width: '100%',\n  height: '75vh'\n};\n\n\nfunction MapComponent(props) {\n\nconsole.debug(\"center:->\", props.center);\n\n  return (\n      <>\n    \n    <LoadScript\n      googleMapsApiKey=\"AIzaSyB1j3fRpN3g__hO7CHgyvSC9rhlz_e4No8\"\n    >\n      <GoogleMap\n        mapContainerStyle={containerStyle}\n        center={props.center}\n        zoom={13}\n      >\n        <Marker\n      position={props.center}\n    />\n\n    {window.google &&(\n    <InfoWindow content=\"hi\"></InfoWindow>)}\n        { /* Child components, such as markers, info windows, etc. */ }\n        <></>\n      </GoogleMap>\n    </LoadScript>\n    </>\n  )\n}\n\nexport default MapComponent;","import React, { useState, useEffect } from \"react\";\nimport { ListGroup, ListGroupItem, Card} from \"react-bootstrap\";\nimport { config } from \"../configs/endpoints.js\";\nimport { useLocation } from \"react-router-dom\";\nimport MapComponent from \"../components/googleMap.js\";\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport StarRating from \"react-svg-star-rating\";\n\n\nfunction VisitDetail() {\n  const [visit, setVisit] = useState(null);\n  const [center, setCenter] = useState(null);\n  const search = useLocation().search;\n  const id = new URLSearchParams(search).get(\"id\");\n  useEffect(() => {\n    axios.get(getEndpoint()).then((response) => {\n      const visit = response.data?.visits.filter((u) => u.id === id)[0];\n      setVisit(visit);\n      setCenter({\n        lat: Number(visit?.lat),\n        lng: Number(visit?.lng)\n      });\n      console.debug(\"Visits:\", visit);\n    });\n  }, []);\n\n  function dateFormat(date) {\n    let day = new Date(date);\n    return day.toLocaleString(); \n  }\n  \n  function getEndpoint() {\n    return `${config.endpoints.basePath}${config.endpoints.visits.list}`;\n  }\n\n  return (\n    <div>\n      <div className=\"d-flex align-items-center auth px-0\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-12 mx-auto\">\n            <div className=\"page-header\">\n              <h3 className=\"page-title\"> Visit Detail</h3>\n              <Link\n                className=\"btn btn-primary\"\n                to={{\n                  pathname: `${process.env.PUBLIC_URL}/pages/visits`,\n                }}\n              >\n                Back\n              </Link>\n            </div>\n            <div className=\"row mx-0\">\n            <div className=\"col-lg-6 mx-auto\">\n            <Card style={{ width: \"auto\" }}>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem><h4 className=\"text-left py-3 font-weight-bold\">Branch</h4>{visit?.branch}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Customer</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Name: {visit?.customer_name}</ListGroupItem>\n                <ListGroupItem>Mobile: {visit?.customer_mobile_number}</ListGroupItem>\n                <ListGroupItem>Type: {visit?.person_type}</ListGroupItem>\n                <ListGroupItem>Address: {visit?.customer_address}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Buyer</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Name: {visit?.buying_person_name}</ListGroupItem>\n                <ListGroupItem>Mobile: {visit?.buying_person_mobile_number}</ListGroupItem>\n                <ListGroupItem>Requirement: {visit?.requirement}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Building</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Building Area: {visit?.building_area}</ListGroupItem>\n                <ListGroupItem>Building Type: {visit?.building_type}</ListGroupItem>\n              </ListGroup>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Customer Response: \n                  <StarRating\n                      unit=\"half\"\n                      initialRating={visit?.customer_response}\n                      isReadOnly={true}\n                    />{visit?.customer_response && (`(${visit?.customer_response})`)}\n                </ListGroupItem>\n                <ListGroupItem>Customer Willingness: \n                  <StarRating\n                      unit=\"half\"\n                      initialRating={visit?.customer_maycome}\n                      isReadOnly={true}\n                    />{visit?.customer_maycome && (`(${visit?.customer_maycome})`)}\n                </ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Salesman Detail</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Salesman Name: {visit?.first_name + visit?.last_name} </ListGroupItem>\n                <ListGroupItem>Mobile: {visit?.mobile_number}</ListGroupItem>\n                <ListGroupItem>Visited On: {dateFormat(visit?.created_on)}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Photo</h4>\n              <Card.Img className=\"px-2 pb-2\" variant=\"top\" src={visit?.file_path} />\n            </Card>\n            </div>\n            <div className=\"col-lg-6 mx-auto\">\n            <Card style={{ width: \"auto\" }}>\n            {!isNaN(center?.lat)&& (\n              <Card.Body>\n                <Card.Title>Location</Card.Title>\n                <MapComponent center = {center}\n                >\n                  { /* Child components, such as markers, info windows, etc. */ }\n                  <></>\n                </MapComponent>\n               \n              </Card.Body>\n            )}\n            {isNaN(center?.lat)&& (\n              <Card.Body>\n                <Card.Title>Location not Available</Card.Title>\n              </Card.Body>\n            )}\n            </Card>\n            </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default VisitDetail;\n"],"sourceRoot":""}