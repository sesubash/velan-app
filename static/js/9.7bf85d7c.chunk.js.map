{"version":3,"sources":["app/configs/endpoints.js","assets/images/marker-icon-2x.png","app/components/openStreetMap.js","app/pages/VisitDetail.js"],"names":["config","endpoints","basePath","login","users","list","add","edit","visits","filter","target","get","dashboard","module","exports","MapComponent","props","console","debug","center","MapContainer","zoom","scrollWheelZoom","TileLayer","url","Marker","position","icon","_iconSize","L","iconUrl","require","iconSize","Popup","address","VisitDetail","date","useState","visit","setVisit","setCenter","search","useLocation","id","URLSearchParams","useEffect","axios","then","response","data","u","lat","Number","lng","className","to","pathname","process","Card","style","width","ListGroup","ListGroupItem","branch","customer_name","customer_mobile_number","person_type","customer_address","buying_person_name","buying_person_mobile_number","requirement","building_area","building_type","unit","initialRating","customer_response","isReadOnly","customer_maycome","first_name","last_name","mobile_number","created_on","Date","toLocaleString","Img","variant","src","file_path","isNaN","Body","Title"],"mappings":"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","file":"static/js/9.7bf85d7c.chunk.js","sourcesContent":["export const config = {\n  endpoints: {\n    basePath: \"http://www.velanapp.in/velan/api.php?\",\n    login: \"validateAdminLogin\",\n    users: {\n      list: `getUsers`,\n      add: \"addUser\",\n      edit: \"editUser\",\n    },\n    visits: {\n      list: \"getVisits\",\n      filter: \"getVisitsByFilter\"\n    },\n    target: {\n      get: \"getDailyTarget\",\n      edit: \"editDailyTarget\",\n    },\n    dashboard: {\n      list: \"getDashboradData\",\n    },\n  },\n};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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\"","import React from 'react'\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport L from \"leaflet\";\n\nfunction getIcon(_iconSize) {\n    return L.icon({\n        iconUrl: require(\"../../assets/images/marker-icon-2x.png\"),\n        iconSize: [_iconSize]\n    })\n}\n\nfunction MapComponent(props) {\n  console.debug(\"center:->\", props.center);\n  return (\n    <MapContainer center={props.center} zoom={16} scrollWheelZoom={false}>\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      <Marker position={props.center} icon={getIcon(40)}>\n        <Popup>\n          {props.address}\n        </Popup>\n      </Marker>\n    </MapContainer>\n  );\n}\n\nexport default MapComponent;\n","import React, { useState, useEffect } from \"react\";\nimport { ListGroup, ListGroupItem, Card} from \"react-bootstrap\";\nimport { config } from \"../configs/endpoints.js\";\nimport { useLocation } from \"react-router-dom\";\nimport MapComponent from \"../components/openStreetMap.js\";\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport StarRating from \"react-svg-star-rating\";\n\nimport \"../components/leaflet.css\";\n\n\nfunction VisitDetail() {\n  const [visit, setVisit] = useState(null);\n  const [center, setCenter] = useState(null);\n  const search = useLocation().search;\n  const id = new URLSearchParams(search).get(\"id\");\n  useEffect(() => {\n    axios.get(getEndpoint()).then((response) => {\n      const visit = response.data?.visits.filter((u) => u.id === id)[0];\n      setVisit(visit);\n      setCenter({\n        lat: Number(visit?.lat),\n        lng: Number(visit?.lng)\n      });\n      console.debug(\"Visits:\", visit);\n    });\n  }, []);\n\n  function dateFormat(date) {\n    let day = new Date(date);\n    return day.toLocaleString(); \n  }\n  \n  function getEndpoint() {\n    return `${config.endpoints.basePath}${config.endpoints.visits.list}`;\n  }\n\n  return (\n    <div>\n      <div className=\"d-flex align-items-center auth px-0\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-12 mx-auto\">\n            <div className=\"page-header\">\n              <h3 className=\"page-title\"> Visit Detail</h3>\n              <Link\n                className=\"btn btn-primary\"\n                to={{\n                  pathname: `${process.env.PUBLIC_URL}/pages/visits`,\n                }}\n              >\n                Back\n              </Link>\n            </div>\n            <div className=\"row mx-0\">\n            <div className=\"col-lg-6 mx-auto\">\n            <Card style={{ width: \"auto\" }}>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem><h4 className=\"text-left py-3 font-weight-bold\">Branch</h4>{visit?.branch}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Customer</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Name: {visit?.customer_name}</ListGroupItem>\n                <ListGroupItem>Mobile: {visit?.customer_mobile_number}</ListGroupItem>\n                <ListGroupItem>Type: {visit?.person_type}</ListGroupItem>\n                <ListGroupItem>Address: {visit?.customer_address}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Buyer</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Name: {visit?.buying_person_name}</ListGroupItem>\n                <ListGroupItem>Mobile: {visit?.buying_person_mobile_number}</ListGroupItem>\n                <ListGroupItem>Requirement: {visit?.requirement}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Building</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Building Area: {visit?.building_area}</ListGroupItem>\n                <ListGroupItem>Building Type: {visit?.building_type}</ListGroupItem>\n              </ListGroup>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Customer Response: \n                  <StarRating\n                      unit=\"half\"\n                      initialRating={visit?.customer_response}\n                      isReadOnly={true}\n                    />{visit?.customer_response && (`(${visit?.customer_response})`)}\n                </ListGroupItem>\n                <ListGroupItem>Customer Willingness: \n                  <StarRating\n                      unit=\"half\"\n                      initialRating={visit?.customer_maycome}\n                      isReadOnly={true}\n                    />{visit?.customer_maycome && (`(${visit?.customer_maycome})`)}\n                </ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Salesman Detail</h4>\n              <ListGroup className=\"list-group-flush\">\n                <ListGroupItem>Salesman Name: {visit?.first_name + visit?.last_name} </ListGroupItem>\n                <ListGroupItem>Mobile: {visit?.mobile_number}</ListGroupItem>\n                <ListGroupItem>Visited On: {dateFormat(visit?.created_on)}</ListGroupItem>\n              </ListGroup>\n              <h4 className=\"text-left py-3 px-3 font-weight-bold\">Photo</h4>\n              <Card.Img className=\"px-2 pb-2\" variant=\"top\" src={visit?.file_path} />\n            </Card>\n            </div>\n            <div className=\"col-lg-6 mx-auto\">\n            <Card style={{ width: \"auto\" }}>\n            {!isNaN(center?.lat)&& (\n              <Card.Body>\n                <Card.Title>Location</Card.Title>\n                <MapComponent center = {center} address={visit?.customer_address}\n                >\n                  { /* Child components, such as markers, info windows, etc. */ }\n                  <></>\n                </MapComponent>\n               \n              </Card.Body>\n            )}\n            {isNaN(center?.lat)&& (\n              <Card.Body>\n                <Card.Title>Location not Available</Card.Title>\n              </Card.Body>\n            )}\n            </Card>\n            </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default VisitDetail;\n"],"sourceRoot":""}