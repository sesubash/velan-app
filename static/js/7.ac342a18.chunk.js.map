{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","app/pages/Login.js","app/configs/endpoints.js","app/utils/session-storage.js"],"names":["_createForOfIteratorHelper","o","Symbol","iterator","Array","isArray","i","F","s","n","length","done","value","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","Login","useState","validated","setValidated","history","Storage","useHistory","inputParsers","date","input","split","month","day","year","uppercase","toUpperCase","number","parseFloat","className","src","require","alt","noValidate","onSubmit","event","form","currentTarget","data","FormData","keys","name","parserName","elements","dataset","parse","parsedValue","parser","get","set","checkValidity","preventDefault","stopPropagation","console","log","config","endpoints","basePath","login","serialize","push","Group","Control","type","required","placeholder","size","users","list","add","edit","visits","key","cookies","erase"],"mappings":"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","file":"static/js/7.ac342a18.chunk.js","sourcesContent":["import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { config } from \"../configs/endpoints.js\";\nimport { Storage } from \"../utils/session-storage.js\";\nimport { serialize } from \"form-serialize\";\nimport { useHistory } from \"react-router-dom\";\n\n\nfunction Login() {\n  const [validated, setValidated] = useState(false);\n  let storage = new Storage();\n  const history = useHistory();\n\n  function getEndpoint() {\n    return `${config.endpoints.basePath}${config.endpoints.login}`;\n  }\n\n  const inputParsers = {\n    date(input) {\n      const [month, day, year] = input.split('/');\n      return `${year}-${month}-${day}`;\n    },\n    uppercase(input) {\n      return input.toUpperCase();\n    },\n    number(input) {\n      return parseFloat(input);\n    },\n  };  \n\n  function handleSubmit(event) {\n    const form = event.currentTarget;\n    const data = new FormData(form);\n    for (let name of data.keys()) {\n      const input = form.elements[name];\n      const parserName = input.dataset.parse;\n\n      if (parserName) {\n        const parser = inputParsers[parserName];\n        const parsedValue = parser(data.get(name));\n        data.set(name, parsedValue);\n      }\n    }\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    } else {\n      // let formData = serialize(form, { hash: true });\n      console.log(\n        \"You clicked submit.\",\n        form.checkValidity(),\n        getEndpoint(),\n        serialize,\n        form,\n        data\n      );\n      history.push(\"/pages/users\");\n\n    }\n\n    setValidated(true);\n\n  }\n\n  // handleSubmit2 (event) {\n  //   event.preventDefault();\n  //   console.debug(\"data:\", this)\n  //   // let formData = this.props.auth.getIn([\"emailSignIn\", this.getEndpoint(), \"form\"]).toJS();\n  //   // this.props.dispatch(emailSignIn(formData, this.getEndpoint()))\n  //   //   .then(this.props.next)\n  //   //   .catch(() => {});\n  // }\n\n  return (\n    <div>\n      <div className=\"d-flex align-items-center auth px-0\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-4 mx-auto\">\n            <div className=\"auth-form-light text-left py-5 px-4 px-sm-5\">\n              <div className=\"brand-logo text-center\">\n                <img src={require(\"../../assets/images/logo.svg\")} alt=\"logo\" />\n              </div>\n              <h6 className=\"text-center font-weight-light\">\n                Sign in to continue.\n              </h6>\n              <Form\n                className=\"pt-3\"\n                noValidate\n                validated={validated}\n                onSubmit={handleSubmit}\n              >\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"email\"\n                    required\n                    placeholder=\"Username\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                  />\n                </Form.Group>\n                <Form.Group className=\"d-flex search-field\">\n                  <Form.Control\n                    type=\"password\"\n                    required\n                    placeholder=\"Password\"\n                    size=\"lg\"\n                    className=\"h-auto\"\n                  />\n                </Form.Group>\n                <div className=\"mt-3\">\n                  <Button\n                    className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\"\n                    type=\"submit\"\n                  >\n                    SIGN IN\n                  </Button>\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","export const config = {\n  endpoints: {\n    basePath: \"http://stronglasstough.com/velan/api.php?\",\n    login: \"validateAdminLogin\",\n    users: {\n      list: \"getUsers\",\n      add: \"addUser\",\n      edit: \"editUser\",\n    },\n    visits: {\n      list: \"getVisits\",\n    },\n  },\n};","import cookies from \"browser-cookies\";\nimport { values } from \"lodash\";\n\nclass Storage {\n  set(key, value) {\n      cookies.set(key, value)\n  }\n\n  get(key) {\n      return cookies.get(key)\n  }\n\n  remove(key) {\n      cookies.erase(key)\n  }\n}\n\nexport { Storage };\n"],"sourceRoot":""}