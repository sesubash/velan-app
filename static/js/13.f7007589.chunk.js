(window["webpackJsonpvelan-tiles"]=window["webpackJsonpvelan-tiles"]||[]).push([[13],{133:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var l={endpoints:{basePath:"http://www.velanapp.in/velan/api.php?",login:"validateAdminLogin",users:{list:"getUsers",add:"addUser",edit:"editUser"},visits:{list:"getVisits",filter:"getVisitsByFilter"},target:{get:"getDailyTarget",edit:"editDailyTarget"},dashboard:{list:"getDashboradData"}}}},393:function(e,a,t){"use strict";t.r(a);var l=t(54),s=t(0),n=t.n(s),r=t(397),c=t(69),i=t(133),o=t(148),d=t.n(o),m=t(5),u=t(11),p=t(136),b=t.n(p);a.default=function(){var e=Object(s.useState)(!1),a=Object(l.a)(e,2),t=a[0],o=a[1],p=Object(s.useState)(null),h=Object(l.a)(p,2),g=h[0],f=h[1],v=Object(m.g)(),E=Object(m.h)().search,N=new URLSearchParams(E).get("id"),w=N?"Edit":"Add";return Object(s.useEffect)((function(){b.a.get("".concat(i.a.endpoints.basePath).concat(i.a.endpoints.users.list)).then((function(e){var a=e.data.users.filter((function(e){return e.user_id==N}))[0];a.status="1"===a.status?"true":"",f(a),console.debug(a)}))}),[]),n.a.createElement("div",null,n.a.createElement("div",{className:"d-flex  auth px-0"},n.a.createElement("div",{className:"row w-100 mx-0"},n.a.createElement("div",{className:"col-lg-12 mx-auto"},n.a.createElement("div",{className:"page-header"},n.a.createElement("h3",{className:"page-title"}," User"),n.a.createElement(u.b,{className:"btn btn-primary",to:{pathname:"".concat("","/pages/users")}},"Back")),n.a.createElement("div",{className:"col-lg-4 mx-auto"},n.a.createElement("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5"},n.a.createElement("h6",{className:"text-center font-weight-bold"},w," User"),n.a.createElement(r.a,{className:"pt-3",noValidate:!0,validated:t,onSubmit:function(e){var a=e.currentTarget;if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation();else{console.log("You clicked submit."),e.preventDefault();var t=d()(a,{hash:!0}),l=t.status?"1":"0";t.status=l,N&&(t.user_id=N),b()({url:N?"".concat(i.a.endpoints.basePath).concat(i.a.endpoints.users.edit):"".concat(i.a.endpoints.basePath).concat(i.a.endpoints.users.add),method:"POST",headers:{},data:t}).then((function(e){console.debug("0"==e.data.error),"0"==e.data.error?v.push("".concat("","/pages/users")):alert(e.data.error?e.data.message:"Something Went wrong, Try again later.")})).catch((function(e){}))}o(!0),e.preventDefault()}},n.a.createElement(r.a.Group,{className:"mb-3 search-field"},n.a.createElement(r.a.Label,null,"First Name"),n.a.createElement(r.a.Control,{type:"text",defaultValue:null===g||void 0===g?void 0:g.first_name,name:"first_name",required:!0,placeholder:"First Name",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"mb-3 search-field"},n.a.createElement(r.a.Label,null,"Last Name"),n.a.createElement(r.a.Control,{type:"text",defaultValue:null===g||void 0===g?void 0:g.last_name,name:"last_name",required:!0,placeholder:"Last Name",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"mb-3 search-field"},n.a.createElement(r.a.Label,null,"Mobile Number"),n.a.createElement(r.a.Control,{type:"tel",defaultValue:null===g||void 0===g?void 0:g.mobile_number,name:"mobile_number",maxLength:"10",required:!0,placeholder:"Mobile",size:"lg",className:"h-auto",disabled:"Edit"==w})),n.a.createElement(r.a.Group,{className:"mb-3 search-field"},n.a.createElement(r.a.Label,null,"Password"),n.a.createElement(r.a.Control,{type:"password",defaultValue:null===g||void 0===g?void 0:g.password,name:"password",required:!0,placeholder:"Password",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"mb-3 search-field"},n.a.createElement(r.a.Check,{className:"mx-4",type:"checkbox",name:"status",label:"Status",defaultChecked:null===g||void 0===g?void 0:g.status})),n.a.createElement("div",{className:"mt-3"},n.a.createElement(c.a,{className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit"},"Save")))))))))}}}]);
//# sourceMappingURL=13.f7007589.chunk.js.map