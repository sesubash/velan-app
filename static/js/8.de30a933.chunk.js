(window["webpackJsonpvelan-tiles"]=window["webpackJsonpvelan-tiles"]||[]).push([[8],{269:function(e,a,t){"use strict";t.r(a);var s=t(93),l=t(0),n=t.n(l),r=t(272),c=t(54),o=t(99),i=t(144),d=t.n(i),u=t(4),m=t(12),p=t(98),h=t.n(p);a.default=function(){var e=Object(l.useState)(!1),a=Object(s.a)(e,2),t=a[0],i=a[1],p=Object(l.useState)(null),f=Object(s.a)(p,2),b=f[0],v=f[1],g=Object(u.g)(),E=Object(u.h)().search,N=new URLSearchParams(E).get("id"),x=N?"Edit":"Add";return Object(l.useEffect)((function(){h.a.get("".concat(o.a.endpoints.basePath).concat(o.a.endpoints.users.list)).then((function(e){var a=e.data.users.filter((function(e){return e.user_id==N}))[0];v(a),console.debug(a)}))}),[]),n.a.createElement("div",null,n.a.createElement("div",{className:"d-flex  auth px-0"},n.a.createElement("div",{className:"row w-100 mx-0"},n.a.createElement("div",{className:"col-lg-12 mx-auto"},n.a.createElement("div",{className:"page-header"},n.a.createElement("h3",{className:"page-title"}," User"),n.a.createElement(m.b,{className:"btn btn-primary",to:{pathname:"/pages/users"}},"Back")),n.a.createElement("div",{className:"col-lg-4 mx-auto"},n.a.createElement("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5"},n.a.createElement("h6",{className:"text-center font-weight-bold"},x," User"),n.a.createElement(r.a,{className:"pt-3",noValidate:!0,validated:t,onSubmit:function(e){var a=e.currentTarget;if(!1===a.checkValidity())e.preventDefault(),e.stopPropagation();else{console.log("You clicked submit.",d()(a,{hash:!0})),e.preventDefault();var t=d()(a,{hash:!0}),s=d()(a,{hash:!0}).status?"1":"0";t.status=s,N&&(t.user_id=N),h()({url:N?"".concat(o.a.endpoints.basePath).concat(o.a.endpoints.users.edit):"".concat(o.a.endpoints.basePath).concat(o.a.endpoints.users.add),method:"POST",headers:{},data:t}).then((function(e){console.debug("0"==e.data.error),"0"==e.data.error?g.push("/pages/users"):alert(e.data.error?e.data.message:"Something Went wrong, Try again later.")})).catch((function(e){}))}i(!0),e.preventDefault()}},n.a.createElement(r.a.Group,{className:"d-flex search-field"},n.a.createElement(r.a.Control,{type:"text",defaultValue:null===b||void 0===b?void 0:b.first_name,name:"first_name",required:!0,placeholder:"First Name",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"d-flex search-field"},n.a.createElement(r.a.Control,{type:"text",defaultValue:null===b||void 0===b?void 0:b.last_name,name:"last_name",required:!0,placeholder:"Last Name",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"d-flex search-field"},n.a.createElement(r.a.Control,{type:"number",defaultValue:null===b||void 0===b?void 0:b.mobile_number,name:"mobile_number",required:!0,placeholder:"Mobile",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"d-flex search-field"},n.a.createElement(r.a.Control,{type:"password",defaultValue:null===b||void 0===b?void 0:b.password,name:"password",required:!0,placeholder:"Password",size:"lg",className:"h-auto"})),n.a.createElement(r.a.Group,{className:"d-flex search-field"},n.a.createElement(r.a.Check,{type:"checkbox",name:"status",required:!0,label:"Status",value:"0"!=(null===b||void 0===b?void 0:b.status)})),n.a.createElement("div",{className:"mt-3"},n.a.createElement(c.a,{className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit"},"Save")))))))))}},99:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var s={endpoints:{basePath:"http://stronglasstough.com/velan/api.php?",login:"validateAdminLogin",users:{list:"getUsers",add:"addUser",edit:"editUser"},visits:{list:"getVisits"}}}}}]);
//# sourceMappingURL=8.de30a933.chunk.js.map